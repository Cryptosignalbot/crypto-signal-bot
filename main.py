from telegram import InlineKeyboardButton, InlineKeyboardMarkup, Update
from telegram.ext import Updater, CommandHandler, CallbackQueryHandler

BOT_TOKEN = "TU_BOT_TOKEN"

# FunciÃ³n para el menÃº principal
def menu(update, context):
    keyboard = [
        [
            InlineKeyboardButton("ğŸ”¥ Detalles Plan Fire Scalping", callback_data='fire'),
            InlineKeyboardButton("ğŸ’ Detalles Plan Elite Scalping IntradÃ­a", callback_data='elite'),
            InlineKeyboardButton("ğŸŒŠ Detalles Plan Delta Swing Trading", callback_data='delta')
        ],
        [
            InlineKeyboardButton("â¬…ï¸ Volver", callback_data='back'),
            InlineKeyboardButton("ğŸ› ï¸ Asistencia", url="https://t.me/tu_admin")
        ]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    update.message.reply_text("Selecciona un plan:", reply_markup=reply_markup)

# FunciÃ³n para mostrar detalles del plan
def show_details(update, context):
    query = update.callback_query
    plan = query.data
    if plan == 'fire':
        text = (
            "ğŸ”¥ *Plan Fire Scalping*\n\n"
            "ğŸ’µ $11/mes\nğŸ’µ $132/aÃ±o\n\n"
            "âš¡ CaracterÃ­sticas:\n"
            "- Alta intensidad para traders agresivos.\n"
            "- DiversificaciÃ³n en 5 criptomonedas clave.\n\n"
            "ğŸ”— [MÃ¡s detalles en el sitio web](https://tusitio.com/fire)"
        )
    elif plan == 'elite':
        text = (
            "ğŸ’ *Plan Elite Scalping IntradÃ­a*\n\n"
            "âœ… Recomendado - 50% de descuento\n"
            "ğŸ’µ $21/mes\nğŸ’µ $126/aÃ±o (antes $252)\n\n"
            "âš¡ CaracterÃ­sticas:\n"
            "- PrecisiÃ³n extrema: 99.10% de Ã©xito.\n"
            "- DiseÃ±ado para traders experimentados.\n\n"
            "ğŸ”— [MÃ¡s detalles en el sitio web](https://tusitio.com/elite)"
        )
    elif plan == 'delta':
        text = (
            "ğŸŒŠ *Plan Delta Swing Trading*\n\n"
            "ğŸ’µ $31/mes\nğŸ’µ $372/aÃ±o\n\n"
            "âš¡ CaracterÃ­sticas:\n"
            "- Ideal para operaciones prolongadas.\n"
            "- Aprovecha tendencias de mediano plazo.\n\n"
            "ğŸ”— [MÃ¡s detalles en el sitio web](https://tusitio.com/delta)"
        )
    
    keyboard = [
        [
            InlineKeyboardButton("Mensual", callback_data=f'{plan}_monthly'),
            InlineKeyboardButton("Anual", callback_data=f'{plan}_yearly')
        ],
        [
            InlineKeyboardButton("â¬…ï¸ Volver", callback_data='menu'),
            InlineKeyboardButton("ğŸ› ï¸ Asistencia", url="https://t.me/tu_admin")
        ]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    query.edit_message_text(text=text, reply_markup=reply_markup, parse_mode="Markdown")

# ConfiguraciÃ³n del bot
def main():
    updater = Updater(BOT_TOKEN, use_context=True)
    dp = updater.dispatcher

    dp.add_handler(CommandHandler("menu", menu))
    dp.add_handler(CallbackQueryHandler(show_details, pattern='^(fire|elite|delta)$'))
    dp.add_handler(CallbackQueryHandler(menu, pattern='^menu$'))

    updater.start_polling()
    updater.idle()

if __name__ == '__main__':
    main()
